extends _base

block content
  section.content-header
    .container-fluid
      h4
        | Rules log
        if rulecode
          |  for 
          = rulecode.displayname
        small
          | 
          | (last
          | 
          = limit
          | 
          | lines)

  .row
    .col-md-10.offset-md-1
      .card
        .card-body.table-responsive.p-0
          table.table.table-hover.text-nowrap
            thead
              tr
                th Time
                if !rulecode
                  th Rule
                th Message
            tbody
              each rulecodelog in rulecodelogs
                tr
                  td(width="10%")
                    = dayjs(rulecodelog.DateTime).format("YYYY-MM-DD HH:mm:ss").replace(dayjs().format("YYYY-MM-DD"), '')
                  if !rulecode
                    td.monospace
                      = rulecodelog.RuleCodeName
                  td.monospace
                    = rulecodelog.Message

  script(type='text/javascript')
    | subscribes = { rulecodelog : "content-wrapper" }
